<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogo da velha</title>
  </head>
  <body>
    <script>
      function mostrar_linha_jogador1() {
        linha = parseFloat(
          prompt(
            "\nVEZ DO JOGADOR 1\n\n" +
              "1° " +
              arr[0][0] +
              " | " +
              arr[0][1] +
              " | " +
              arr[0][2] +
              "\n" +
              "2° " +
              arr[1][0] +
              " | " +
              arr[1][1] +
              " | " +
              arr[1][2] +
              "\n" +
              "3° " +
              arr[2][0] +
              " | " +
              arr[2][1] +
              " | " +
              arr[2][2] +
              "\n\nIndique a linha que você quer jogar? [1,2,3]\n"
          )
        );
      }

      function mostrar_coluna_jogador1() {
        coluna = parseFloat(
          prompt(
            "\nVEZ DO JOGADOR 1\n\n" +
              "1° " +
              arr[0][0] +
              " | " +
              arr[0][1] +
              " | " +
              arr[0][2] +
              "\n" +
              "2° " +
              arr[1][0] +
              " | " +
              arr[1][1] +
              " | " +
              arr[1][2] +
              "\n" +
              "3° " +
              arr[2][0] +
              " | " +
              arr[2][1] +
              " | " +
              arr[2][2] +
              "\n\nIndique a coluna que você quer jogar? [1,2,3]\n"
          )
        );
      }

      function verificar_posicao_jogador1() {
        if (linha < 1 || linha > 3 || coluna < 1 || coluna > 3) {
          alert("Posição inexistente, tente novamente!");
        } else {
          if (arr[linha - 1][coluna - 1] == "-") {
            arr[linha - 1][coluna - 1] = "x";
            confirmacao = true;
          } else {
            alert("Posição já ocupada, tente novamente!");
            confirmacao = false;
          }
        }
      }

      function verificar_vitoria_jogador1() {
        if (
          arr[0][0] == arr[0][1] &&
          arr[0][0] == arr[0][2] &&
          arr[0][0] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[1][0] == arr[1][1] &&
          arr[1][1] == arr[1][2] &&
          arr[1][2] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[2][0] == arr[2][1] &&
          arr[2][1] == arr[2][2] &&
          arr[2][2] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[0][0] == arr[1][0] &&
          arr[1][0] == arr[2][0] &&
          arr[2][0] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[0][1] == arr[1][1] &&
          arr[1][1] == arr[2][1] &&
          arr[2][1] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[0][2] == arr[1][2] &&
          arr[1][2] == arr[2][2] &&
          arr[2][2] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[0][0] == arr[1][1] &&
          arr[1][1] == arr[2][2] &&
          arr[2][2] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        } else if (
          arr[0][2] == arr[1][1] &&
          arr[1][1] == arr[2][0] &&
          arr[2][0] == "x"
        ) {
          alert("JOGADOR 1 GANHOU, PARABÉNS!");
        }
      }

      function mostrar_linha_jogador2() {
        linha = parseFloat(
          prompt(
            "\nVEZ DO JOGADOR 2\n\n" +
              "1° " +
              arr[0][0] +
              " | " +
              arr[0][1] +
              " | " +
              arr[0][2] +
              "\n" +
              "2° " +
              arr[1][0] +
              " | " +
              arr[1][1] +
              " | " +
              arr[1][2] +
              "\n" +
              "3° " +
              arr[2][0] +
              " | " +
              arr[2][1] +
              " | " +
              arr[2][2] +
              "\n\nIndique a linha que você quer jogar? [1,2,3]\n"
          )
        );
      }

      function mostrar_coluna_jogador2() {
        coluna = parseFloat(
          prompt(
            "\nVEZ DO JOGADOR 2\n\n" +
              "1° " +
              arr[0][0] +
              " | " +
              arr[0][1] +
              " | " +
              arr[0][2] +
              "\n" +
              "2° " +
              arr[1][0] +
              " | " +
              arr[1][1] +
              " | " +
              arr[1][2] +
              "\n" +
              "3° " +
              arr[2][0] +
              " | " +
              arr[2][1] +
              " | " +
              arr[2][2] +
              "\n\nIndique a coluna que você quer jogar? [1,2,3]\n"
          )
        );
      }

      function verificar_posicao_jogador2() {
        if (linha < 1 || linha > 3 || coluna < 1 || coluna > 3) {
          alert("Posição inexistente, tente novamente!");
        } else {
          if (arr[linha - 1][coluna - 1] == "-") {
            arr[linha - 1][coluna - 1] = "o";
            confirmacao = true;
          } else {
            alert("Posição já ocupada, tente novamente!");
            confirmacao = false;
          }
        }
      }

      function verificar_vitoria_jogador2() {
        if (
          arr[0][0] == arr[0][1] &&
          arr[0][0] == arr[0][2] &&
          arr[0][0] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[1][0] == arr[1][1] &&
          arr[1][1] == arr[1][2] &&
          arr[1][2] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[2][0] == arr[2][1] &&
          arr[2][1] == arr[2][2] &&
          arr[2][2] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[0][0] == arr[1][0] &&
          arr[1][0] == arr[2][0] &&
          arr[2][0] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[0][1] == arr[1][1] &&
          arr[1][1] == arr[2][1] &&
          arr[2][1] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[0][2] == arr[1][2] &&
          arr[1][2] == arr[2][2] &&
          arr[2][2] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[0][0] == arr[1][1] &&
          arr[1][1] == arr[2][2] &&
          arr[2][2] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        } else if (
          arr[0][2] == arr[1][1] &&
          arr[1][1] == arr[2][0] &&
          arr[2][0] == "o"
        ) {
          alert("JOGADOR 2 GANHOU, PARABÉNS!");
        }
      }

      arr = [
        ["-", "-", "-"],
        ["-", "-", "-"],
        ["-", "-", "-"],
      ];
      let confirmacao = "";
      let opcao = "";

      do {
        //JOGADOR 1
        do {
          mostrar_linha_jogador1();
          mostrar_coluna_jogador1();
          verificar_posicao_jogador1();
          verificar_vitoria_jogador1();
        } while (confirmacao == false);

        //JOGADOR 2
        do {
          mostrar_linha_jogador2();
          mostrar_coluna_jogador2();
          verificar_posicao_jogador2();
          verificar_vitoria_jogador2();
        } while (confirmacao == false);
        opcao = prompt("Deseja continuar?\n1. Sim\n2. Não");
      } while (opcao != "2");
    </script>
  </body>
</html>
